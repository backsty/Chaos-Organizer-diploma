#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

message="$(cat $1)"
required_pattern="^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+\))?: .{1,100}"

if ! echo "$message" | grep -E "$required_pattern" > /dev/null; then
  echo "üö® –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç-—Å–æ–æ–±—â–µ–Ω–∏—è."
  echo "–§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: type(scope): message"
  echo "–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∏–ø—ã: feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert"
  echo "–ü—Ä–∏–º–µ—Ä—ã: feat(ui): –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏"
  echo "         fix(api): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ —Å–æ–æ–±—â–µ–Ω–∏–π"
  exit 1
fi